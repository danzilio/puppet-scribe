<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="puppet_manifest_list_link"
        href="puppet_manifest_list.html">
      Puppet Manifest List
    </a>
  
    <a class="full_list_link" id="puppet_plugin_list_link"
        href="puppet_plugin_list.html">
      Puppet Plugin List
    </a>
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<p><a href="https://forge.puppetlabs.com/danzilio/scribe_reporter"><img
src="http://img.shields.io/puppetforge/v/danzilio/scribe_reporter.svg?style=flat"></a>
<a href="https://travis-ci.org/danzilio/puppet-scribe_reporter"><img
src="https://travis-ci.org/danzilio/puppet-scribe_reporter.svg"></a> <a
href="http://danzilio.github.io/puppet-scribe_reporter"><img
src="http://img.shields.io/badge/docs-puppet--strings-ff69b4.svg?style=flat"></a></p>

<p>This is a report processor for Puppet that sends entire Puppet reports to a
<a href="https://github.com/facebookarchive/scribe">Scribe</a> log server.
This processor requires the <code>scribe</code> <a
href="https://github.com/twitter/scribe">gem</a>. This module also contains
a <code>scribe_reporter</code> class to manage the configuration file and
gem. This module depends on the <a
href="https://github.com/danzilio/puppet-report_all_the_things">report_all_the_things</a>
module.</p>

<p>This module uses the <code>report_all_the_things</code> module and sends
the whole report. Most report processors only send the <code>metrics</code>
or <code>logs</code> sections of a report. This sends everything:
<code>metrics</code>, <code>logs</code>, <code>resource_statuses</code>,
etcâ€¦ This could potentially be a <em>lot</em> of data. The motivation
behind the <code>report_all_the_things</code> module (which this module
implements) was to get all of the data into an analytics platform and use
those tools to analyze the data. Please take the time to understand the
implications of this.</p>

<h2 id="label-Requirements">Requirements</h2>
<ul><li>
<p><code>puppet</code> (this module is tested with 2.7 and up)</p>
</li><li>
<p><code>stdlib</code></p>
</li><li>
<p><code>scribe</code> gem</p>
</li><li>
<p><code>report_all_the_things</code> module</p>
</li><li>
<p><code>inifile</code> module</p>
</li></ul>

<h2 id="label-Usage">Usage</h2>

<p>To begin using the <code>scribe_reporter</code> module, you must pass the
<code>hosts</code> parameter. The class expects a string or array of
strings:</p>

<pre class="code ruby"><code class="ruby">class { &#39;scribe_reporter&#39;:
  hosts =&gt; [ &#39;scribe1.example.com:1463&#39;, &#39;scribe2.example.com:1463&#39; ]
}
</code></pre>

<p>This will do three main things:</p>
<ol><li>
<p>install the <code>scribe</code> gem</p>
</li><li>
<p>place configuration file in <code>$confdir/scribe.yaml</code> (usually
<code>/etc/puppet/scribe.yaml</code> or
<code>/etc/puppetlabs/scribe.yaml</code>).</p>
</li><li>
<p>add <code>scribe</code> as a report processor in <code>puppet.conf</code></p>
</li></ol>

<p>The report processor will be synced via pluginsync. Once Puppet has run
with this module, it will begin to submit reports to Scribe.</p>

<p>If you don&#39;t wish to manage the <code>reports</code> setting in
<code>puppet.conf</code> you can set <code>manage_report_processor</code>
to <code>false</code>:</p>

<pre class="code ruby"><code class="ruby">class { &#39;scribe_reporter&#39;:
  hosts =&gt; [ &#39;scribe1.example.com:1463&#39;, &#39;scribe2.example.com:1463&#39; ],
  manage_report_processor =&gt; false,
}
</code></pre>

<p>If you&#39;re running in <code>masterless</code> mode, we need to configure
the <code>reports</code> setting in the <code>main</code> section of
<code>puppet.conf</code> instead of the <code>master</code> section. To do
this you need to set the <code>masterless</code> parameter to
<code>true</code>:</p>

<pre class="code ruby"><code class="ruby">class { &#39;scribe_reporter&#39;:
  hosts      =&gt; [ &#39;scribe1.example.com:1463&#39;, &#39;scribe2.example.com:1463&#39; ],
  masterless =&gt; true
}
</code></pre>

<p>If you don&#39;t want this module to manage the <code>scribe</code> gem,
you can set the <code>manage_package</code> parameter to
<code>false</code>:</p>

<pre class="code ruby"><code class="ruby">class { &#39;scribe_reporter&#39;:
  hosts          =&gt; [ &#39;scribe1.example.com:1463&#39;, &#39;scribe2.example.com:1463&#39; ],
  manage_package =&gt; false
}
</code></pre>

<p>If you choose to manage the <code>scribe</code> gem manually, don&#39;t
forget to install it with the appropriate <code>gem</code> command before
trying to send reports to Scribe.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_scribe'>scribe</span></code></pre>

<h2 id="label-Development">Development</h2>
<ol><li>
<p>Fork it</p>
</li><li>
<p>Create a feature branch</p>
</li><li>
<p>Write a failing test</p>
</li><li>
<p>Write the code to make that test pass</p>
</li><li>
<p>Refactor the code</p>
</li><li>
<p>Submit a pull request</p>
</li></ol>

<p>We politely request (demand) tests for all new features. Pull requests that
contain new features without a test will not be considered. If you need
help, just ask!</p>
</div></div>

    <div id="footer">
  Generated on Mon Jul 13 14:26:56 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.2).
</div>

  </body>
</html>